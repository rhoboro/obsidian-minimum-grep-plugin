/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  GrepModal: () => GrepModal,
  default: () => MinimumGrepPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");
var import_child_process = require("child_process");

// settings.ts
var import_obsidian = require("obsidian");
var MinimumGrepPluginSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("rgLocation").addText(
      (text) => text.setPlaceholder("rg").setValue(this.plugin.settings.rgLocation).onChange(async (value) => {
        this.plugin.settings.rgLocation = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("maxFiles").addText(
      (text) => text.setPlaceholder("50").setValue(`${this.plugin.settings.maxFiles}`).onChange(async (value) => {
        this.plugin.settings.maxFiles = Number(value);
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("minQueryLength").addText(
      (text) => text.setPlaceholder("2").setValue(`${this.plugin.settings.minQueryLength}`).onChange(async (value) => {
        this.plugin.settings.minQueryLength = Number(value);
        await this.plugin.saveSettings();
      })
    );
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  rgLocation: "/opt/homebrew/bin/rg",
  maxFiles: 50,
  minQueryLength: 2
};
var Match = class {
  constructor(num, line) {
    this.num = Number(num);
    this.line = line;
  }
};
var RgResult = class {
  constructor(path, num, line, searchPath) {
    this.path = path;
    this.name = path.replace(searchPath + "/", "");
    this.line = line;
    this.matches = [new Match(num, line)];
    this.searchPath = searchPath;
  }
};
var GrepModal = class extends import_obsidian2.SuggestModal {
  constructor(app, settings) {
    super(app);
    this.settings = settings;
  }
  async getSuggestions(query) {
    if (query.length <= this.settings.minQueryLength && /^[\x20-\x7e]*$/.test(query)) {
      return [];
    }
    const adapter = this.app.vault.adapter;
    const searchPath = adapter instanceof import_obsidian2.FileSystemAdapter ? adapter.getBasePath() : "";
    let results = [];
    const proc = (0, import_child_process.spawn)(this.settings.rgLocation, ["-i", "-n", "--no-heading", query, searchPath], { stdio: ["ignore", "pipe", "pipe"] });
    for await (const result of proc.stdout) {
      results = results.concat(result.toString().split("\n").map((value) => {
        const matched = value.match(/(.*):(\d+):(.*)/);
        if (matched && matched.length == 4 && /.md$/.test(matched[1]) && !/^- \[\[.*]]$/.test(matched[3])) {
          return new RgResult(matched[1], matched[2], matched[3], searchPath);
        } else {
          return null;
        }
      }).filter((value) => !!value));
    }
    return results.reduce((x, current) => {
      var _a;
      if (x.length > this.settings.maxFiles) {
        return x;
      }
      const exists = x.find((value) => value.path == current.path);
      if (exists) {
        if (exists.matches.length < 5) {
          exists.matches.push(current.matches[0]);
        }
      } else {
        const file = this.app.vault.getAbstractFileByPath(current.name);
        if (file instanceof import_obsidian2.TFile) {
          current.file = file;
          const frontMatter = (_a = this.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
          if (frontMatter) {
            if ("title" in frontMatter && frontMatter["title"]) {
              current.title = frontMatter["title"];
              x.push(current);
            }
          }
        }
      }
      return x;
    }, []).sort((a, b) => {
      const q = query.toLowerCase();
      if (a.title.toLowerCase().includes(q) && b.title.toLowerCase().includes(q)) {
        return Number(a.title.toLowerCase() <= b.title.toLowerCase());
      } else if (a.title.toLowerCase().includes(q)) {
        return -1;
      } else if (b.title.toLowerCase().includes(q)) {
        return 1;
      }
      if (a.matches.length == b.matches.length) {
        return Number(a.title.toLowerCase() <= b.title.toLowerCase());
      }
      return Number(a.matches.length > b.matches.length);
    });
  }
  renderSuggestion(result, el) {
    el.createEl("h1", { text: result.title });
    const content = result.matches.reduce((v, m) => {
      return v ? `${v}
${m.num}: ${m.line}` : `${m.num}: ${m.line}`;
    }, "");
    el.createEl("small", { text: content });
  }
  onChooseSuggestion(result, evt) {
    const file = this.app.vault.getAbstractFileByPath(result.name);
    if (file instanceof import_obsidian2.TFile) {
      const leaf = this.app.workspace.getLeaf();
      if (leaf) {
        return leaf.openFile(file);
      }
    }
  }
};
var MinimumGrepPlugin = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new MinimumGrepPluginSettingTab(this.app, this));
    this.addCommand({
      id: "open-minimum-grep-modal",
      name: "Open minimum grep modal",
      callback: () => {
        new GrepModal(this.app, this.settings).open();
      }
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtBcHAsIEZpbGVTeXN0ZW1BZGFwdGVyLCBQbHVnaW4sIFN1Z2dlc3RNb2RhbCwgVEZpbGV9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7c3Bhd259IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG5pbXBvcnQge01pbmltdW1HcmVwUGx1Z2luU2V0dGluZ1RhYn0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNaW5pbXVtR3JlcFNldHRpbmdzIHtcblx0cmdMb2NhdGlvbjogc3RyaW5nO1xuXHRtYXhGaWxlczogbnVtYmVyO1xuXHRtaW5RdWVyeUxlbmd0aDogbnVtYmVyO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNaW5pbXVtR3JlcFNldHRpbmdzID0ge1xuXHRyZ0xvY2F0aW9uOiAnL29wdC9ob21lYnJldy9iaW4vcmcnLFxuXHRtYXhGaWxlczogNTAsXG5cdG1pblF1ZXJ5TGVuZ3RoOiAyLFxufVxuXG5jbGFzcyBNYXRjaCB7XG5cdG51bTogbnVtYmVyO1xuXHRsaW5lOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IobnVtOiBzdHJpbmcsIGxpbmU6IHN0cmluZykge1xuXHRcdHRoaXMubnVtID0gTnVtYmVyKG51bSk7XG5cdFx0dGhpcy5saW5lID0gbGluZTtcblx0fVxufVxuXG5jbGFzcyBSZ1Jlc3VsdCB7XG5cdG5hbWU6IHN0cmluZztcblx0cGF0aDogc3RyaW5nO1xuXHRsaW5lOiBzdHJpbmc7XG5cdG1hdGNoZXM6IE1hdGNoW107XG5cdHNlYXJjaFBhdGg6IHN0cmluZztcblx0dGl0bGU6IHN0cmluZztcblx0ZmlsZTogVEZpbGU7XG5cblx0Y29uc3RydWN0b3IocGF0aDogc3RyaW5nLCBudW06IHN0cmluZywgbGluZTogc3RyaW5nLCBzZWFyY2hQYXRoOiBzdHJpbmcpIHtcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHRoaXMubmFtZSA9IHBhdGgucmVwbGFjZShzZWFyY2hQYXRoICsgJy8nLCAnJyk7XG5cdFx0dGhpcy5saW5lID0gbGluZTtcblx0XHR0aGlzLm1hdGNoZXMgPSBbbmV3IE1hdGNoKG51bSwgbGluZSldXG5cdFx0dGhpcy5zZWFyY2hQYXRoID0gc2VhcmNoUGF0aDtcblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBHcmVwTW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8UmdSZXN1bHQ+IHtcblx0c2V0dGluZ3M6IE1pbmltdW1HcmVwU2V0dGluZ3M7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzOiBNaW5pbXVtR3JlcFNldHRpbmdzKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdH1cblxuXHRhc3luYyBnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxSZ1Jlc3VsdFtdPiB7XG5cdFx0aWYgKHF1ZXJ5Lmxlbmd0aCA8PSB0aGlzLnNldHRpbmdzLm1pblF1ZXJ5TGVuZ3RoICYmIC9eW1xceDIwLVxceDdlXSokLy50ZXN0KHF1ZXJ5KSkge1xuXHRcdFx0cmV0dXJuIFtdXG5cdFx0fVxuXHRcdGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXHRcdGNvbnN0IHNlYXJjaFBhdGggPSAoYWRhcHRlciBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1BZGFwdGVyKSA/IGFkYXB0ZXIuZ2V0QmFzZVBhdGgoKSA6ICcnO1xuXHRcdGxldCByZXN1bHRzOiBSZ1Jlc3VsdFtdID0gW107XG5cdFx0Y29uc3QgcHJvYyA9IHNwYXduKHRoaXMuc2V0dGluZ3MucmdMb2NhdGlvbiwgWyctaScsICctbicsICctLW5vLWhlYWRpbmcnLCBxdWVyeSwgc2VhcmNoUGF0aF0sIHtzdGRpbzogWydpZ25vcmUnLCAncGlwZScsICdwaXBlJ119KTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IHJlc3VsdCBvZiBwcm9jLnN0ZG91dCkge1xuXHRcdFx0cmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KHJlc3VsdC50b1N0cmluZygpLnNwbGl0KCdcXG4nKS5tYXAoKHZhbHVlOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlZCA9IHZhbHVlLm1hdGNoKC8oLiopOihcXGQrKTooLiopLyk7XG5cdFx0XHRcdGlmIChtYXRjaGVkICYmIG1hdGNoZWQubGVuZ3RoID09IDQgJiYgLy5tZCQvLnRlc3QobWF0Y2hlZFsxXSkgJiYgIS9eLSBcXFtcXFsuKl1dJC8udGVzdChtYXRjaGVkWzNdKSkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgUmdSZXN1bHQobWF0Y2hlZFsxXSwgbWF0Y2hlZFsyXSwgbWF0Y2hlZFszXSwgc2VhcmNoUGF0aCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH0pLmZpbHRlcigodmFsdWU6IFJnUmVzdWx0IHwgbnVsbCkgPT4gISF2YWx1ZSkpXG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHRzLnJlZHVjZSgoeDogUmdSZXN1bHRbXSwgY3VycmVudCkgPT4ge1xuXHRcdFx0aWYgKHgubGVuZ3RoID4gdGhpcy5zZXR0aW5ncy5tYXhGaWxlcykge1xuXHRcdFx0XHRyZXR1cm4geDtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGV4aXN0cyA9IHguZmluZCh2YWx1ZSA9PiB2YWx1ZS5wYXRoID09IGN1cnJlbnQucGF0aCk7XG5cdFx0XHRpZiAoZXhpc3RzKSB7XG5cdFx0XHRcdGlmIChleGlzdHMubWF0Y2hlcy5sZW5ndGggPCA1KSB7XG5cdFx0XHRcdFx0ZXhpc3RzLm1hdGNoZXMucHVzaChjdXJyZW50Lm1hdGNoZXNbMF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGN1cnJlbnQubmFtZSk7XG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0XHRjdXJyZW50LmZpbGUgPSBmaWxlO1xuXHRcdFx0XHRcdGNvbnN0IGZyb250TWF0dGVyID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk/LmZyb250bWF0dGVyXG5cdFx0XHRcdFx0aWYgKGZyb250TWF0dGVyKSB7XG5cdFx0XHRcdFx0XHRpZiAoJ3RpdGxlJyBpbiBmcm9udE1hdHRlciAmJiBmcm9udE1hdHRlclsndGl0bGUnXSkge1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50LnRpdGxlID0gZnJvbnRNYXR0ZXJbJ3RpdGxlJ107XG5cdFx0XHRcdFx0XHRcdHgucHVzaChjdXJyZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB4O1xuXHRcdH0sIFtdKS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRjb25zdCBxID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcblx0XHRcdGlmIChhLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgJiYgYi50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKSB7XG5cdFx0XHRcdHJldHVybiBOdW1iZXIoKGEudGl0bGUudG9Mb3dlckNhc2UoKSA8PSBiLnRpdGxlLnRvTG93ZXJDYXNlKCkpKTtcblx0XHRcdH0gZWxzZSBpZiAoYS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH0gZWxzZSBpZiAoYi50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKSB7XG5cdFx0XHRcdHJldHVybiAxXG5cdFx0XHR9XG5cdFx0XHRpZiAoYS5tYXRjaGVzLmxlbmd0aCA9PSBiLm1hdGNoZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiBOdW1iZXIoKGEudGl0bGUudG9Mb3dlckNhc2UoKSA8PSBiLnRpdGxlLnRvTG93ZXJDYXNlKCkpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBOdW1iZXIoYS5tYXRjaGVzLmxlbmd0aCA+IGIubWF0Y2hlcy5sZW5ndGgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cmVuZGVyU3VnZ2VzdGlvbihyZXN1bHQ6IFJnUmVzdWx0LCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbChcImgxXCIsIHt0ZXh0OiByZXN1bHQudGl0bGV9KVxuXHRcdGNvbnN0IGNvbnRlbnQgPSByZXN1bHQubWF0Y2hlcy5yZWR1Y2UoKHYsIG0pID0+IHtcblx0XHRcdHJldHVybiB2ID8gYCR7dn1cXG4ke20ubnVtfTogJHttLmxpbmV9YCA6IGAke20ubnVtfTogJHttLmxpbmV9YDtcblx0XHR9LCAnJyk7XG5cdFx0ZWwuY3JlYXRlRWwoXCJzbWFsbFwiLCB7dGV4dDogY29udGVudH0pO1xuXHR9XG5cblx0b25DaG9vc2VTdWdnZXN0aW9uKHJlc3VsdDogUmdSZXN1bHQsIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcblx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHJlc3VsdC5uYW1lKTtcblx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKTtcblx0XHRcdGlmIChsZWFmKSB7XG5cdFx0XHRcdHJldHVybiBsZWFmLm9wZW5GaWxlKGZpbGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pbXVtR3JlcFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNaW5pbXVtR3JlcFNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTWluaW11bUdyZXBQbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLW1pbmltdW0tZ3JlcC1tb2RhbCcsXG5cdFx0XHRuYW1lOiAnT3BlbiBtaW5pbXVtIGdyZXAgbW9kYWwnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IEdyZXBNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncykub3BlbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuIiwgImltcG9ydCBNaW5pbXVtR3JlcFBsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5pbXBvcnQge0FwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZ30gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuZXhwb3J0IGNsYXNzIE1pbmltdW1HcmVwUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE1pbmltdW1HcmVwUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1pbmltdW1HcmVwUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdyZ0xvY2F0aW9uJykuYWRkVGV4dChcblx0XHRcdCh0ZXh0KSA9PiB0ZXh0LnNldFBsYWNlaG9sZGVyKCdyZycpLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJnTG9jYXRpb24pLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZ0xvY2F0aW9uID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0XHR9KSk7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ21heEZpbGVzJykuYWRkVGV4dChcblx0XHRcdCh0ZXh0KSA9PiB0ZXh0LnNldFBsYWNlaG9sZGVyKCc1MCcpLnNldFZhbHVlKGAke3RoaXMucGx1Z2luLnNldHRpbmdzLm1heEZpbGVzfWApLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhGaWxlcyA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0XHR9KSk7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ21pblF1ZXJ5TGVuZ3RoJykuYWRkVGV4dChcblx0XHRcdCh0ZXh0KSA9PiB0ZXh0LnNldFBsYWNlaG9sZGVyKCcyJykuc2V0VmFsdWUoYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubWluUXVlcnlMZW5ndGh9YCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1pblF1ZXJ5TGVuZ3RoID0gTnVtYmVyKHZhbHVlKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdH0pKTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJB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
